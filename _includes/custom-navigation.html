<!-- Custom Navigation with Bootstrap Dropdowns -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<style>
/* Custom styles to integrate with Minima theme */
.custom-nav {
  background: var(--background-color, #ffffff);
  border-bottom: 1px solid var(--border-color, #e8e8e8);
  padding: 0.5rem 0;
  margin-bottom: 1rem;
}

.custom-nav .navbar-brand {
  color: var(--text-color, #111) !important;
  font-weight: 500;
}

.custom-nav .nav-link {
  color: var(--text-color, #111) !important;
  font-weight: 400;
  padding: 0.5rem 1rem !important;
}

.custom-nav .nav-link:hover {
  color: var(--link-hover-color, #0066cc) !important;
}

.custom-nav .dropdown-menu {
  border: 1px solid var(--border-color, #e8e8e8);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.custom-nav .dropdown-item {
  color: var(--text-color, #111) !important;
  padding: 0.5rem 1rem;
}

.custom-nav .dropdown-item:hover {
  background-color: var(--code-background-color, #f8f8f8);
  color: var(--link-hover-color, #0066cc) !important;
}

/* External link indicator */
.external-link::after {
  content: " ↗";
  font-size: 0.8em;
  opacity: 0.7;
}

/* GitHub button styling */
.btn-github {
  background-color: #24292e;
  color: white !important;
  border: none;
  padding: 0.375rem 0.75rem;
  border-radius: 0.25rem;
  text-decoration: none !important;
}

.btn-github:hover {
  background-color: #1a1e22;
  color: white !important;
}

@media (max-width: 768px) {
  .custom-nav .navbar-nav {
    text-align: center;
  }
  
  .custom-nav .dropdown-menu {
    text-align: center;
    border: none;
    box-shadow: none;
    background: transparent;
  }
}
</style>

<nav class="navbar navbar-expand-lg custom-nav">
  <div class="container-fluid">
    <a class="navbar-brand" href="{{ site.baseurl }}/">{{ site.title | default: "Viva Insights Sample Code" }}</a>
    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav me-auto">
        
        <!-- Essentials Dropdown -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="{{ site.baseurl }}/essentials/" id="essentialsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            🔧 Essentials
          </a>
          <ul class="dropdown-menu" aria-labelledby="essentialsDropdown">
            <li><a class="dropdown-item" href="{{ site.baseurl }}/essentials/">🌐 Overview</a></li>
            <li><a class="dropdown-item" href="{{ site.baseurl }}/getting-started/">🚀 Getting Started</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="https://github.com/microsoft/viva-insights-sample-code/tree/main/examples/utility-r">📁 R Utilities</a></li>
            <li><a class="dropdown-item" href="https://github.com/microsoft/viva-insights-sample-code/tree/main/examples/utility-python">📁 Python Utilities</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item external-link" href="https://github.com/microsoft/viva-insights-sample-code/blob/main/examples/utility-r/create-example-visuals.R">📊 Create Visuals (R)</a></li>
            <li><a class="dropdown-item external-link" href="https://github.com/microsoft/viva-insights-sample-code/blob/main/examples/utility-python/create-example-visuals.py">📊 Create Visuals (Python)</a></li>
            <li><a class="dropdown-item" href="{{ site.baseurl }}/generate-custom-kpi/">📈 Custom KPIs (R)</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item external-link" href="https://github.com/microsoft/viva-insights-sample-code/blob/main/examples/intro-to-vivainsights-py/demo-vivainsights-py.ipynb">🐍 Intro to Python</a></li>
          </ul>
        </li>
        
        <!-- Advanced Analytics Dropdown -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="{{ site.baseurl }}/advanced/" id="advancedDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            📊 Advanced
          </a>
          <ul class="dropdown-menu" aria-labelledby="advancedDropdown">
            <li><a class="dropdown-item" href="{{ site.baseurl }}/advanced/">🌐 Overview</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item external-link" href="https://github.com/microsoft/viva-insights-sample-code/blob/main/examples/utility-python/top-performers-rf.ipynb">🏆 Top Performers (Python)</a></li>
            <li><a class="dropdown-item external-link" href="https://github.com/microsoft/viva-insights-sample-code/blob/main/examples/utility-r/top-performers-rf.Rmd">🏆 Top Performers (R)</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item external-link" href="https://github.com/microsoft/viva-insights-sample-code/blob/main/examples/utility-python/information-value.ipynb">📊 Information Value (Python)</a></li>
            <li><a class="dropdown-item external-link" href="https://github.com/microsoft/viva-insights-sample-code/blob/main/examples/utility-r/information-value.Rmd">📊 Information Value (R)</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item external-link" href="https://github.com/microsoft/viva-insights-sample-code/blob/main/examples/utility-python/pairwise-chisq.py">🔬 Chi-Square Tests (Python)</a></li>
            <li><a class="dropdown-item external-link" href="https://github.com/microsoft/viva-insights-sample-code/blob/main/examples/utility-r/pairwise_chisq.Rmd">🔬 Chi-Square Tests (R)</a></li>
          </ul>
        </li>
        
        <!-- Network Analysis Dropdown -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="{{ site.baseurl }}/network/" id="networkDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            🔗 Network
          </a>
          <ul class="dropdown-menu" aria-labelledby="networkDropdown">
            <li><a class="dropdown-item" href="{{ site.baseurl }}/network/">🌐 Overview</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item external-link" href="https://github.com/microsoft/viva-insights-sample-code/blob/main/examples/utility-python/custom-network-g2g.py">👥 Group-to-Group (Python)</a></li>
            <li><a class="dropdown-item external-link" href="https://github.com/microsoft/viva-insights-sample-code/blob/main/examples/utility-r/custom-network-g2g.Rmd">👥 Group-to-Group (R)</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item external-link" href="https://github.com/microsoft/viva-insights-sample-code/blob/main/examples/utility-python/custom-network-p2p.py">👤 Person-to-Person (Python)</a></li>
            <li><a class="dropdown-item external-link" href="https://github.com/microsoft/viva-insights-sample-code/blob/main/examples/utility-r/custom-network-p2p.Rmd">👤 Person-to-Person (R)</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item external-link" href="https://github.com/microsoft/viva-insights-sample-code/blob/main/examples/extending-vivainsights-with-R/example_ONA.R">🔍 ONA Examples (R)</a></li>
          </ul>
        </li>
        
        <!-- Copilot Analytics Dropdown -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="{{ site.baseurl }}/copilot/" id="copilotDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            🤖 Copilot
          </a>
          <ul class="dropdown-menu" aria-labelledby="copilotDropdown">
            <li><a class="dropdown-item" href="{{ site.baseurl }}/copilot/">🌐 Overview</a></li>
            <li><a class="dropdown-item" href="{{ site.baseurl }}/copilot-usage-segments/">👥 Usage Segments</a></li>
            <li><a class="dropdown-item" href="{{ site.baseurl }}/causal-inference/">🔬 Causal Inference</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item external-link" href="https://github.com/microsoft/viva-insights-sample-code/blob/main/examples/utility-r/copilot-analytics-examples.R">📈 Analysis Scripts (R)</a></li>
            <li><a class="dropdown-item external-link" href="https://github.com/microsoft/viva-insights-sample-code/blob/main/examples/utility-python/copilot-analytics-examples.py">📈 Analysis Scripts (Python)</a></li>
            <li><a class="dropdown-item external-link" href="https://github.com/microsoft/viva-insights-sample-code/blob/main/examples/utility-python/copilot-analytics-examples.ipynb">📓 Jupyter Notebook</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="{{ site.baseurl }}/dax-calculated-columns/">⚡ DAX Scripts</a></li>
            <li><a class="dropdown-item" href="{{ site.baseurl }}/dax-calculated-columns/">📖 Usage Segmentation Guide</a></li>
          </ul>
        </li>
        
      </ul>
      
      <!-- GitHub Link -->
      <a href="https://github.com/microsoft/viva-insights-sample-code" target="_blank" class="btn btn-github">
        <svg width="16" height="16" fill="currentColor" class="bi bi-github me-1" viewBox="0 0 16 16">
          <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
        </svg>
        GitHub
      </a>
      
    </div>
  </div>
</nav>
